<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora Clubbea</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to right, #f0f4f8, #d9e2ec);
      display: flex;
      justify-content: center;
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 540px;
      background: #fff;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 8px 25px rgba(0,0,0,.15);
    }

    h2 {
      text-align: center;
      margin-bottom: 25px;
    }

    label {
      font-weight: 600;
      margin-top: 15px;
      display: block;
    }

    input, select, button {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      font-size: 1rem;
    }

    button {
      background: #3b82f6;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
    }

    .cards {
      margin-top: 25px;
      display: grid;
      gap: 15px;
    }

    .card {
      padding: 18px;
      border-radius: 12px;
      white-space: pre-wrap;
      font-weight: 500;
    }

    .verde {
      background: linear-gradient(135deg, #d1fae5, #a7f3d0);
      border-left: 6px solid #10b981;
      color: #065f46;
    }

    .azul {
      background: linear-gradient(135deg, #dbeafe, #bfdbfe);
      border-left: 6px solid #3b82f6;
      color: #1e3a8a;
    }

    .amarelo {
      background: linear-gradient(135deg, #fef3c7, #fde68a);
      border-left: 6px solid #f59e0b;
      color: #92400e;
    }

    .copy-btn {
      background: #10b981;
    }
  </style>
</head>

<body>

<div class="container">

  <h2>CALCULADORA CLUBBEA</h2>

  <label>Cliente</label>
  <select id="cliente" onchange="carregarPacotes()">
    <option value="CONTINENTAL">CONTINENTAL</option>
    <option value="ANASC">ANASC</option>
    <option value="SUPERAVI">SUPERAVI</option>
    <option value="AGAUCHA">AGAUCHA</option>
  </select>

  <label>Dia a considerar</label>
  <input type="number" id="diaEscolhido" min="1" max="31" placeholder="Ex: 12">

  <label>Valor FIPE</label>
  <input type="number" id="fipe" value="25000" step="0.01">

  <label>Taxa</label>
  <select id="taxa">
    <option value="0.0015">0,15%</option>
    <option value="0.0020">0,20%</option>
    <option value="0.0025">0,25%</option>
  </select>

  <label>Pacote</label>
  <select id="pacote"></select>

  <label>Rastreador</label>
  <select id="rastreador">
    <option value="0">NÃ£o</option>
    <option value="39.90">Sim (R$ 39,90)</option>
  </select>

  <label>Vistoria</label>
  <select id="vistoria">
    <option value="200">R$ 200</option>
    <option value="150">R$ 150</option>
    <option value="0">R$ 0</option>
  </select>

  <label>Opcional</label>
  <input type="number" id="opcional" value="0" step="0.01">

  <button onclick="calcular()">Calcular</button>

  <div class="cards">
    <div class="card verde" id="cardDesconto"></div>
    <div class="card azul" id="cardCheio"></div>
    <div class="card amarelo" id="card50"></div>
  </div>

  <button class="copy-btn" onclick="copiar()">Copiar Resultado</button>

</div>

<script>
const pacotesClientes = {
  CONTINENTAL: [["27.78","Start"],["36.78","Bronze"]],
  ANASC: [["31.97","Start"],["42.77","Bronze"]],
  SUPERAVI: [["32.04","Start"]],
  AGAUCHA: [["26.78","Economy"],["40.59","Bronze"]]
};

function carregarPacotes() {
  pacote.innerHTML = "";
  pacotesClientes[cliente.value].forEach(p => {
    pacote.innerHTML += `<option value="${p[0]}">${p[1]} - R$ ${p[0]}</option>`;
  });
}

carregarPacotes();

function diasRestantes() {
  const dia = parseInt(diaEscolhido.value);
  const hoje = new Date();
  const ultimo = new Date(hoje.getFullYear(), hoje.getMonth() + 1, 0).getDate();
  return ultimo - dia;
}

function montarTexto(titulo, taxaBase, total) {
  return (
`${titulo}
Dias restantes no mÃªs: ${diasRestantes()}
Taxa mensal: R$ ${taxaBase.toFixed(2)}
Pacote: R$ ${(+pacote.value).toFixed(2)}
Opcional: R$ ${(+opcional.value).toFixed(2)}
Rastreador: R$ ${(+rastreador.value).toFixed(2)}
AdesÃ£o/Vistoria: R$ ${(+vistoria.value).toFixed(2)}

TOTAL: R$ ${total.toFixed(2)}`
  );
}

function calcular() {
  const fipeV = +fipe.value;
  const taxaV = +taxa.value;
  const pacoteV = +pacote.value;
  const opcionalV = +opcional.value;
  const rastreadorV = +rastreador.value;
  const vistoriaV = +vistoria.value;

  const dias = diasRestantes();
  const taxaMensal = fipeV * taxaV;
  const taxaProporcional = (taxaMensal / 30) * dias;

  const totalDesconto = taxaProporcional + pacoteV + opcionalV + rastreadorV + vistoriaV;
  const totalCheio = taxaMensal + pacoteV + opcionalV + rastreadorV + vistoriaV;
  const total50 = totalCheio / 2;

  cardDesconto.innerText = montarTexto(
    "ðŸŸ¢ COM DESCONTO (Proporcional)",
    taxaProporcional,
    totalDesconto
  );

  cardCheio.innerText = montarTexto(
    "ðŸ”µ SEM DESCONTO (Valor Cheio)",
    taxaMensal,
    totalCheio
  );

  card50.innerText = montarTexto(
    "ðŸŸ¡ 50% DO VALOR CHEIO",
    taxaMensal / 2,
    total50
  );
}

function copiar() {
  navigator.clipboard.writeText(
    cardDesconto.innerText + "\n\n" +
    cardCheio.innerText + "\n\n" +
    card50.innerText
  );
  alert("Copiado!");
}
</script>

</body>
</html>
